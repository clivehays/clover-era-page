<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Blind Spot Assessment | How Much Is Your Team Hiding From You? | Clover ERA</title>
    <meta name="description" content="12 questions. 2 minutes. Find out what your team isn't telling you. Based on the CLOVER Framework for turnover prevention.">

    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <!-- Open Graph -->
    <meta property="og:title" content="The Blind Spot Assessment | How Much Is Your Team Hiding From You?">
    <meta property="og:description" content="12 questions. 2 minutes. Find out what your team isn't telling you.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cloverera.com/assessment">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,700;1,9..40,400&family=Fraunces:opsz,wght@9..144,700;9..144,800&display=swap" rel="stylesheet">

    <style>
        :root {
            --teal: #46AEB8;
            --deep-teal: #0D7C88;
            --charcoal: #1F2937;
            --warm-white: #FDFBF7;
            --white: #FFFFFF;
            --light-gray: #F8F9FA;
            --medium-gray: #E5E7EB;
            --text-primary: #111827;
            --text-secondary: #4B5563;
            --coral: #E07A5F;
            --coral-light: #FDF0ED;
            --amber: #D97706;
            --amber-light: #FEF3C7;
            --green: #059669;
            --green-light: #D1FAE5;
            --red: #DC2626;
            --red-light: #FEE2E2;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--warm-white);
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }

        /* ========== HEADER ========== */
        .site-header {
            background: var(--white);
            border-bottom: 1px solid var(--medium-gray);
            padding: 1rem 2rem;
        }
        .site-header-inner {
            max-width: 720px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .site-logo {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--teal);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .site-logo img { height: 28px; }

        .main { max-width: 640px; margin: 0 auto; padding: 3rem 1.5rem 6rem; }

        /* ========== PAGE: LANDING ========== */
        .page { display: none; }
        .page.active { display: block; }

        .landing-eyebrow {
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--teal);
            margin-bottom: 0.75rem;
        }

        .landing-h1 {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--charcoal);
            line-height: 1.15;
            margin-bottom: 1rem;
        }

        .landing-sub {
            font-size: 1.15rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
            max-width: 520px;
        }

        .landing-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 3rem;
        }
        .landing-stat {
            background: var(--white);
            border: 1px solid var(--medium-gray);
            border-radius: 10px;
            padding: 1.25rem 1rem;
            text-align: center;
        }
        .landing-stat-val {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--coral);
        }
        .landing-stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .landing-how {
            background: var(--white);
            border: 1px solid var(--medium-gray);
            border-radius: 10px;
            padding: 1.75rem;
            margin-bottom: 3rem;
        }
        .landing-how h2 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--charcoal);
            margin-bottom: 1rem;
        }
        .landing-how p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* Email capture */
        .capture-box {
            background: var(--charcoal);
            border-radius: 12px;
            padding: 2.5rem;
            color: var(--white);
        }
        .capture-box h2 {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .capture-box .capture-sub {
            font-size: 0.95rem;
            color: #D1D5DB;
            margin-bottom: 1.5rem;
        }
        .capture-form { display: flex; flex-direction: column; gap: 1rem; }
        .capture-input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid #374151;
            border-radius: 8px;
            background: #111827;
            color: var(--white);
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.2s;
        }
        .capture-input:focus { outline: none; border-color: var(--teal); }
        .capture-input::placeholder { color: #6B7280; }
        .capture-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

        .btn-start {
            width: 100%;
            padding: 1rem;
            background: var(--teal);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-start:hover { background: var(--deep-teal); transform: translateY(-1px); }
        .btn-start:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .capture-privacy {
            font-size: 0.8rem;
            color: #9CA3AF;
            text-align: center;
            margin-top: 0.5rem;
        }

        .capture-error {
            background: var(--red-light);
            color: var(--red);
            padding: 0.75rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            display: none;
        }

        /* ========== PAGE: ASSESSMENT ========== */
        .progress-track {
            background: var(--medium-gray);
            height: 6px;
            border-radius: 3px;
            margin-bottom: 0.75rem;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--teal);
            border-radius: 3px;
            transition: width 0.4s ease;
        }
        .progress-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
        }

        .q-section-label {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--teal);
            margin-bottom: 0.5rem;
        }

        .q-card {
            background: var(--white);
            border: 2px solid var(--medium-gray);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            transition: border-color 0.2s;
        }
        .q-card.answered { border-color: var(--teal); }

        .q-number {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        .q-text {
            font-size: 1.05rem;
            font-weight: 500;
            color: var(--charcoal);
            margin-bottom: 1.25rem;
            line-height: 1.5;
        }

        .q-options {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.5rem;
        }
        .q-option {
            position: relative;
        }
        .q-option input { display: none; }
        .q-option label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.75rem 0.25rem;
            background: var(--light-gray);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.15s;
            text-align: center;
        }
        .q-option label:hover { border-color: var(--teal); background: #F0FDFA; }
        .q-option input:checked + label {
            background: var(--teal);
            color: var(--white);
            border-color: var(--teal);
        }
        .q-option-val { font-size: 1.25rem; font-weight: 700; }
        .q-option-label { font-size: 0.65rem; margin-top: 0.15rem; line-height: 1.2; }

        .q-scale-hint {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            padding: 0 0.25rem;
        }

        .assessment-nav {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
        }
        .btn-submit-assessment {
            padding: 1rem 3rem;
            background: var(--teal);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-submit-assessment:hover { background: var(--deep-teal); transform: translateY(-1px); }
        .btn-submit-assessment:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
            background: var(--text-secondary);
        }

        .incomplete-msg {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 0.75rem;
            display: none;
        }

        /* ========== PAGE: RESULTS ========== */
        .results-hero {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--medium-gray);
        }
        .results-hero .eyebrow {
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .score-ring {
            width: 160px;
            height: 160px;
            margin: 0 auto 1.5rem;
            position: relative;
        }
        .score-ring svg {
            transform: rotate(-90deg);
            width: 160px;
            height: 160px;
        }
        .score-ring-bg {
            fill: none;
            stroke: var(--medium-gray);
            stroke-width: 10;
        }
        .score-ring-fill {
            fill: none;
            stroke-width: 10;
            stroke-linecap: round;
            transition: stroke-dashoffset 1.5s ease;
        }
        .score-ring-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .score-ring-number {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1;
        }
        .score-ring-of {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .score-verdict {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--charcoal);
            margin-bottom: 0.5rem;
        }
        .score-verdict-sub {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 480px;
            margin: 0 auto;
        }

        /* CLOVER breakdown */
        .clover-breakdown {
            margin-bottom: 3rem;
        }
        .clover-breakdown h2 {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--charcoal);
            margin-bottom: 1.5rem;
        }
        .clover-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--medium-gray);
        }
        .clover-row:last-child { border-bottom: none; }
        .clover-letter {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.1rem;
            color: var(--white);
            flex-shrink: 0;
        }
        .clover-letter.c { background: #0EA5E9; }
        .clover-letter.l { background: #8B5CF6; }
        .clover-letter.o { background: #F59E0B; }
        .clover-letter.v { background: var(--coral); }
        .clover-letter.e { background: var(--green); }
        .clover-letter.r { background: #6366F1; }

        .clover-info { flex: 1; }
        .clover-name { font-weight: 700; font-size: 0.95rem; color: var(--charcoal); }
        .clover-bar-track {
            height: 6px;
            background: var(--medium-gray);
            border-radius: 3px;
            margin-top: 0.4rem;
            overflow: hidden;
        }
        .clover-bar-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease 0.3s;
        }
        .clover-bar-fill.c { background: #0EA5E9; }
        .clover-bar-fill.l { background: #8B5CF6; }
        .clover-bar-fill.o { background: #F59E0B; }
        .clover-bar-fill.v { background: var(--coral); }
        .clover-bar-fill.e { background: var(--green); }
        .clover-bar-fill.r { background: #6366F1; }

        .clover-score {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--charcoal);
            width: 50px;
            text-align: right;
            flex-shrink: 0;
        }

        /* Blind spot insight */
        .insight-box {
            background: var(--coral-light);
            border-left: 4px solid var(--coral);
            border-radius: 0 10px 10px 0;
            padding: 1.5rem 1.75rem;
            margin-bottom: 2rem;
        }
        .insight-box h3 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--charcoal);
            margin-bottom: 0.5rem;
        }
        .insight-box p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* CTA section */
        .results-cta {
            background: var(--charcoal);
            border-radius: 12px;
            padding: 2.5rem;
            color: var(--white);
            text-align: center;
            margin-top: 3rem;
        }
        .results-cta h2 {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        .results-cta p {
            font-size: 0.95rem;
            color: #D1D5DB;
            margin-bottom: 1.5rem;
            max-width: 440px;
            margin-left: auto;
            margin-right: auto;
        }
        .results-cta .cta-features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            text-align: left;
            margin-bottom: 2rem;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .cta-feature {
            font-size: 0.9rem;
            color: #D1D5DB;
            padding-left: 1.5rem;
            position: relative;
        }
        .cta-feature::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--teal);
            font-weight: 700;
        }

        .btn-cta {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: var(--teal);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: inherit;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s;
        }
        .btn-cta:hover { background: var(--deep-teal); transform: translateY(-1px); }

        .results-cta .cta-price {
            font-size: 0.85rem;
            color: #9CA3AF;
            margin-top: 0.75rem;
        }

        .results-alt {
            text-align: center;
            margin-top: 1.5rem;
        }
        .results-alt a {
            color: var(--teal);
            font-weight: 600;
            text-decoration: none;
            font-size: 0.95rem;
        }
        .results-alt a:hover { text-decoration: underline; }

        /* ========== LOADING ========== */
        .loading-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(253, 251, 247, 0.92);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            flex-direction: column;
            gap: 1rem;
        }
        .loading-overlay.visible { display: flex; }
        .loading-spinner {
            width: 36px; height: 36px;
            border: 3px solid var(--medium-gray);
            border-top-color: var(--teal);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        .loading-text { font-size: 0.95rem; color: var(--text-secondary); }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 600px) {
            .main { padding: 2rem 1rem 5rem; }
            .landing-h1 { font-size: 1.75rem; }
            .landing-stats { grid-template-columns: 1fr; gap: 0.75rem; }
            .capture-row { grid-template-columns: 1fr; }
            .capture-box { padding: 1.75rem; }
            .q-options { grid-template-columns: repeat(5, 1fr); gap: 0.35rem; }
            .q-option label { padding: 0.6rem 0.15rem; }
            .q-option-val { font-size: 1.1rem; }
            .q-option-label { font-size: 0.6rem; }
            .results-cta .cta-features { grid-template-columns: 1fr; }
            .score-ring { width: 130px; height: 130px; }
            .score-ring svg { width: 130px; height: 130px; }
            .score-ring-number { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">Calculating your results...</div>
    </div>

    <header class="site-header">
        <div class="site-header-inner">
            <a href="/" class="site-logo">
                <img src="/images/Clover-era-new-logo-1.png" alt="Clover ERA">
                CLOVER ERA
            </a>
        </div>
    </header>

    <main class="main">

        <!-- ==================== LANDING PAGE ==================== -->
        <div class="page active" id="pageLanding">

            <div class="landing-eyebrow">Free Assessment</div>
            <h1 class="landing-h1">How Much Is Your Team Hiding From You?</h1>
            <p class="landing-sub">12 questions. 2 minutes. Find out where your blind spots are before someone resigns and you're left wondering what you missed.</p>

            <div class="landing-stats">
                <div class="landing-stat">
                    <div class="landing-stat-val">67%</div>
                    <div class="landing-stat-label">of managers miss early departure signals</div>
                </div>
                <div class="landing-stat">
                    <div class="landing-stat-val">$150K+</div>
                    <div class="landing-stat-label">average cost per unexpected resignation</div>
                </div>
                <div class="landing-stat">
                    <div class="landing-stat-val">60 days</div>
                    <div class="landing-stat-label">average warning window managers miss</div>
                </div>
            </div>

            <div class="landing-how">
                <h2>How It Works</h2>
                <p>This assessment is built on the CLOVER Framework, which maps the six areas where team disengagement starts: Communication, Learning, Opportunity, Vulnerability, Enablement, and Reflection.</p>
                <p>You'll answer 12 questions about observable behaviors on your team. Not what you hope is happening. What you can actually see.</p>
                <p>Your results will show you exactly where the gaps are between what you know and what's really going on.</p>
            </div>

            <div class="capture-box">
                <h2>Start Your Assessment</h2>
                <p class="capture-sub">Enter your details to begin. Results are sent to your email.</p>
                <div class="capture-error" id="captureError"></div>
                <form class="capture-form" id="captureForm">
                    <div class="capture-row">
                        <input type="text" class="capture-input" id="capName" placeholder="Your name" required>
                        <input type="email" class="capture-input" id="capEmail" placeholder="Work email" required>
                    </div>
                    <div class="capture-row">
                        <input type="text" class="capture-input" id="capCompany" placeholder="Company (optional)">
                        <input type="number" class="capture-input" id="capTeamSize" placeholder="Team size" min="1">
                    </div>
                    <button type="submit" class="btn-start">Start the Assessment →</button>
                </form>
                <p class="capture-privacy">Your results are confidential. We don't share your data.</p>
            </div>
        </div>

        <!-- ==================== ASSESSMENT PAGE ==================== -->
        <div class="page" id="pageAssessment">

            <div class="progress-track">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="progress-meta">
                <span id="progressCount">0 of 12 answered</span>
                <span id="progressPct">0%</span>
            </div>

            <div id="questionsContainer"></div>

            <div class="assessment-nav">
                <button class="btn-submit-assessment" id="btnSubmit" disabled onclick="submitAssessment()">
                    See My Results →
                </button>
            </div>
            <p class="incomplete-msg" id="incompleteMsg">Answer all 12 questions to see your results.</p>
        </div>

        <!-- ==================== RESULTS PAGE ==================== -->
        <div class="page" id="pageResults">

            <div class="results-hero">
                <div class="eyebrow">Your Blind Spot Score</div>

                <div class="score-ring">
                    <svg viewBox="0 0 160 160">
                        <circle class="score-ring-bg" cx="80" cy="80" r="68" />
                        <circle class="score-ring-fill" id="scoreRingFill" cx="80" cy="80" r="68"
                            stroke-dasharray="427.3"
                            stroke-dashoffset="427.3" />
                    </svg>
                    <div class="score-ring-text">
                        <div class="score-ring-number" id="scoreNumber">0</div>
                        <div class="score-ring-of">out of 60</div>
                    </div>
                </div>

                <div class="score-verdict" id="scoreVerdict"></div>
                <p class="score-verdict-sub" id="scoreVerdictSub"></p>
            </div>

            <div class="clover-breakdown">
                <h2>Your CLOVER Breakdown</h2>
                <div id="cloverRows"></div>
            </div>

            <div id="insightsContainer"></div>

            <div class="insight-box" style="background: #EFF6FF; border-left-color: #3B82F6; margin-top: 2rem;">
                <h3>The Confidence Gap</h3>
                <p>This assessment measured your confidence in what you know about your team. Here's what it can't measure: whether your confidence is accurate.</p>
                <p style="margin-top: 0.5rem;">Research shows managers overestimate their awareness of team concerns by 40-60%. The areas where you feel most confident are often the areas with the biggest gap between perception and reality. That's the blind spot.</p>
            </div>

            <div class="results-cta">
                <h2>See What Your Team Won't Tell You in Person</h2>
                <p>You answered these 12 questions based on what you can observe. Clover ERA shows you the 60% of signals that managers miss.</p>
                <div class="cta-features">
                    <div class="cta-feature">30-second anonymous daily check-in</div>
                    <div class="cta-feature">Maps all 6 CLOVER dimensions</div>
                    <div class="cta-feature">Bi-weekly actionable manager reports</div>
                    <div class="cta-feature">No annual contract required</div>
                </div>
                <a href="/start/" class="btn-cta">Try It Free for 14 Days</a>
                <p class="cta-price">Then $295/month per team. Or $2,950/year paid upfront. Cancel anytime.</p>
            </div>

            <div class="results-alt" style="text-align: center; margin-top: 2rem; padding: 1.5rem; background: var(--white); border: 1px solid var(--medium-gray); border-radius: 10px;">
                <p style="color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 0.75rem;">Want to understand the full cost of your blind spots first?</p>
                <a href="/turnover-analysis/" style="color: var(--teal); font-weight: 700; text-decoration: none; font-size: 1rem;">Schedule Your Free Turnover Analysis →</a>
                <p style="color: var(--text-secondary); font-size: 0.85rem; margin-top: 0.25rem;">15 minutes. We'll show you what your turnover is actually costing.</p>
            </div>

            <div class="results-alt" style="margin-top: 1.25rem;">
                <p style="margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">Want to go deeper on the research?</p>
                <a href="https://www.amazon.com/dp/B0F1VX9ZP1" target="_blank">Read "Already Gone" by Clive &amp; Neil Hays →</a>
            </div>
        </div>

    </main>

    <script>
        // ===== ASSESSMENT DATA =====
        // 12 questions, 2 per CLOVER element
        // Scale: 1 (Not at all confident) to 5 (Completely confident)
        // Low scores = bigger blind spots

        const QUESTIONS = [
            // C - Communication (EQ mirrors: adjusting style, recognising when message isn't landing, receiving feedback openly)
            {
                id: 'C1',
                section: 'Communication',
                letter: 'C',
                text: 'If someone on your team disagreed with a decision you made, how confident are you they would tell you directly rather than complain to a colleague?'
            },
            {
                id: 'C2',
                section: 'Communication',
                letter: 'C',
                text: 'When you ask "how are things going?" in a 1:1, how confident are you the answer reflects what they actually think, not what they think you want to hear?'
            },
            // L - Learning (EQ mirrors: seeking feedback, seeking support when struggling, knowing development needs)
            {
                id: 'L1',
                section: 'Learning',
                letter: 'L',
                text: 'Could you name the specific skill or capability each person on your team most wants to develop right now?'
            },
            {
                id: 'L2',
                section: 'Learning',
                letter: 'L',
                text: 'How confident are you that your team members feel they are growing in their roles, not just performing the same work they were doing six months ago?'
            },
            // O - Opportunity (EQ mirrors: talking about growth outside reviews, advocating for growth, noticing potential)
            {
                id: 'O1',
                section: 'Opportunity',
                letter: 'O',
                text: 'Do you know what each person on your team wants their next career move to be, and have they told you directly?'
            },
            {
                id: 'O2',
                section: 'Opportunity',
                letter: 'O',
                text: 'If someone on your team felt stuck with no visible path forward, how confident are you that you would hear about it before they started taking recruiter calls?'
            },
            // V - Vulnerability (EQ mirrors: admitting not knowing, acknowledging mistakes, sharing uncertainties, asking for help)
            {
                id: 'V1',
                section: 'Vulnerability',
                letter: 'V',
                text: 'How confident are you that when nobody on your team is raising problems, it means there are no problems to raise?'
            },
            {
                id: 'V2',
                section: 'Vulnerability',
                letter: 'V',
                text: 'If a team member made a significant mistake, how confident are you they would come to you before you found out from someone else?'
            },
            // E - Enablement (EQ mirrors: removing bottlenecks, asking what's in the way, trusting without excessive check-ins)
            {
                id: 'E1',
                section: 'Enablement',
                letter: 'E',
                text: 'Could you name the single biggest obstacle preventing each team member from doing their best work this week?'
            },
            {
                id: 'E2',
                section: 'Enablement',
                letter: 'E',
                text: 'How confident are you that your team would say they have what they need to do their jobs well, if asked anonymously?'
            },
            // R - Reflection (EQ mirrors: reflecting after difficult interactions, identifying patterns, assessing approach not just outcomes)
            {
                id: 'R1',
                section: 'Reflection',
                letter: 'R',
                text: 'In the last 30 days, have you had a conversation with each team member about how they feel about the work itself, not just project status or deliverables?'
            },
            {
                id: 'R2',
                section: 'Reflection',
                letter: 'R',
                text: 'If your team each wrote down their biggest frustration anonymously, how closely would their answers match what you think they would say?'
            }
        ];

        const CLOVER_SECTIONS = [
            { letter: 'C', name: 'Communication', class: 'c' },
            { letter: 'L', name: 'Learning', class: 'l' },
            { letter: 'O', name: 'Opportunity', class: 'o' },
            { letter: 'V', name: 'Vulnerability', class: 'v' },
            { letter: 'E', name: 'Enablement', class: 'e' },
            { letter: 'R', name: 'Reflection', class: 'r' }
        ];

        const SCALE_LABELS = {
            1: 'Not at all',
            2: 'Slightly',
            3: 'Somewhat',
            4: 'Quite',
            5: 'Completely'
        };

        // State
        let responses = {};
        let userData = {};

        // ===== INIT =====
        document.addEventListener('DOMContentLoaded', () => {
            renderQuestions();

            document.getElementById('captureForm').addEventListener('submit', (e) => {
                e.preventDefault();
                startAssessment();
            });
        });

        // ===== RENDER QUESTIONS =====
        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            let currentSection = '';
            let html = '';

            QUESTIONS.forEach((q, i) => {
                if (q.section !== currentSection) {
                    currentSection = q.section;
                    html += `<div class="q-section-label">${q.letter} — ${q.section}</div>`;
                }

                html += `
                    <div class="q-card" id="qcard-${q.id}">
                        <div class="q-number">Question ${i + 1} of 12</div>
                        <div class="q-text">${q.text}</div>
                        <div class="q-options">
                            ${[1,2,3,4,5].map(v => `
                                <div class="q-option">
                                    <input type="radio" id="${q.id}_${v}" name="${q.id}" value="${v}"
                                        onchange="handleAnswer('${q.id}', ${v})">
                                    <label for="${q.id}_${v}">
                                        <span class="q-option-val">${v}</span>
                                        <span class="q-option-label">${SCALE_LABELS[v]}</span>
                                    </label>
                                </div>
                            `).join('')}
                        </div>
                        <div class="q-scale-hint">
                            <span>Not at all confident</span>
                            <span>Completely confident</span>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // ===== START ASSESSMENT =====
        function startAssessment() {
            const name = document.getElementById('capName').value.trim();
            const email = document.getElementById('capEmail').value.trim();
            const company = document.getElementById('capCompany').value.trim();
            const teamSize = document.getElementById('capTeamSize').value;

            if (!name || !email) {
                document.getElementById('captureError').textContent = 'Please enter your name and email.';
                document.getElementById('captureError').style.display = 'block';
                return;
            }

            userData = { name, email, company, teamSize };

            // Store in localStorage for recovery
            localStorage.setItem('clover_assessment_user', JSON.stringify(userData));

            // Switch pages
            document.getElementById('pageLanding').classList.remove('active');
            document.getElementById('pageAssessment').classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ===== HANDLE ANSWER =====
        function handleAnswer(qId, value) {
            responses[qId] = value;

            // Mark card as answered
            document.getElementById(`qcard-${qId}`).classList.add('answered');

            // Update progress
            const answered = Object.keys(responses).length;
            const pct = Math.round((answered / 12) * 100);
            document.getElementById('progressFill').style.width = pct + '%';
            document.getElementById('progressCount').textContent = `${answered} of 12 answered`;
            document.getElementById('progressPct').textContent = pct + '%';

            // Enable submit when all answered
            const btn = document.getElementById('btnSubmit');
            const msg = document.getElementById('incompleteMsg');
            if (answered === 12) {
                btn.disabled = false;
                msg.style.display = 'none';
            } else {
                btn.disabled = true;
                msg.style.display = 'block';
            }

            // Save progress
            localStorage.setItem('clover_assessment_responses', JSON.stringify(responses));
        }

        // ===== SUBMIT =====
        function submitAssessment() {
            if (Object.keys(responses).length < 12) return;

            // Show loading
            document.getElementById('loadingText').textContent = 'Calculating your results...';
            document.getElementById('loadingOverlay').classList.add('visible');

            // Simulate brief processing
            setTimeout(() => {
                calculateResults();
                document.getElementById('loadingOverlay').classList.remove('visible');
                document.getElementById('pageAssessment').classList.remove('active');
                document.getElementById('pageResults').classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });

                // Send data (in production, this would post to your API)
                sendResults();
            }, 1500);
        }

        // ===== CALCULATE RESULTS =====
        function calculateResults() {
            // Calculate total score
            const total = Object.values(responses).reduce((sum, v) => sum + v, 0);
            const maxScore = 60;

            // Calculate per-section scores
            const sectionScores = {};
            CLOVER_SECTIONS.forEach(s => {
                const qs = QUESTIONS.filter(q => q.letter === s.letter);
                const sectionTotal = qs.reduce((sum, q) => sum + (responses[q.id] || 0), 0);
                sectionScores[s.letter] = sectionTotal; // max 10 per section
            });

            // Render score ring
            const ringFill = document.getElementById('scoreRingFill');
            const circumference = 427.3;
            const offset = circumference - (total / maxScore) * circumference;
            const ringColor = total <= 24 ? 'var(--red)' : total <= 36 ? 'var(--coral)' : total <= 48 ? 'var(--amber)' : 'var(--green)';
            ringFill.style.stroke = ringColor;
            requestAnimationFrame(() => {
                ringFill.style.strokeDashoffset = offset;
            });
            document.getElementById('scoreNumber').textContent = total;
            document.getElementById('scoreNumber').style.color = ringColor;

            // Verdict
            const verdicts = [
                { max: 20, title: 'Critical Blind Spots', sub: 'Your team is likely hiding significant concerns from you. The gap between what you see and what\'s actually happening is large enough that someone could resign tomorrow and you wouldn\'t see it coming.' },
                { max: 30, title: 'Significant Gaps', sub: 'You have real visibility problems in multiple areas. Your team is filtering what they share with you, and the most important signals are probably the ones you\'re not hearing.' },
                { max: 40, title: 'Some Visibility, Some Gaps', sub: 'You see some of what\'s happening on your team, but there are areas where you\'re likely missing early warning signals. The danger is in the areas you feel most confident about.' },
                { max: 50, title: 'Good Awareness, Watch the Edges', sub: 'You have above-average visibility into your team\'s reality. Your risk areas are specific and addressable, but they\'re the kind that catch even good managers off guard.' },
                { max: 60, title: 'Strong Visibility', sub: 'You have an unusually clear view of your team. But remember: this assessment measures your confidence, not your accuracy. The real test is whether your team would agree with your answers.' }
            ];

            const verdict = verdicts.find(v => total <= v.max) || verdicts[verdicts.length - 1];
            document.getElementById('scoreVerdict').textContent = verdict.title;
            document.getElementById('scoreVerdictSub').textContent = verdict.sub;

            // Render CLOVER rows
            const rowsContainer = document.getElementById('cloverRows');
            rowsContainer.innerHTML = CLOVER_SECTIONS.map(s => {
                const score = sectionScores[s.letter];
                const pct = (score / 10) * 100;
                return `
                    <div class="clover-row">
                        <div class="clover-letter ${s.class}">${s.letter}</div>
                        <div class="clover-info">
                            <div class="clover-name">${s.name}</div>
                            <div class="clover-bar-track">
                                <div class="clover-bar-fill ${s.class}" style="width: ${pct}%"></div>
                            </div>
                        </div>
                        <div class="clover-score">${score}/10</div>
                    </div>
                `;
            }).join('');

            // Generate insights for lowest scoring sections
            const insights = {
                'C': {
                    title: 'Communication: They\'re Filtering What You Hear',
                    text: 'Your team adjusts what they tell you based on what they think you can handle. When the EQ research shows team members scoring low on "I remain calm when receiving critical feedback" from their manager, they stop delivering it. The gap between what your team says in 1:1s and what they say to each other after the meeting is where resignations start forming.'
                },
                'L': {
                    title: 'Learning: Growth Conversations Have Stalled',
                    text: 'When team members stop asking about development, most managers read it as contentment. The data tells a different story. People who feel they\'re stagnating don\'t announce it. They go quiet, do their job, and start browsing job listings that include the words "growth opportunity." The silence around skill development is a 90-day early warning signal.'
                },
                'O': {
                    title: 'Opportunity: They\'ve Stopped Seeing a Future Here',
                    text: 'There\'s a specific moment when someone stops talking about their career path internally and starts having those conversations with recruiters instead. If you can\'t name what each person on your team wants next, those conversations probably aren\'t happening with you. They\'re happening somewhere else.'
                },
                'V': {
                    title: 'Vulnerability: Silence Is Not Safety',
                    text: 'When people stop admitting mistakes, stop sharing uncertainties, stop asking for help, it looks like competence. It\'s not. It\'s withdrawal. Teams where people don\'t feel safe enough to say "I don\'t know" or "I got this wrong" are teams where problems compound in silence until they become resignations.'
                },
                'E': {
                    title: 'Enablement: Barriers You Can\'t See Are Burning People Out',
                    text: 'Your team faces obstacles every day that slow them down, frustrate them, and drain their energy. If they\'ve stopped telling you about those obstacles, it\'s not because the obstacles went away. It\'s because they tried raising them before and nothing changed. People don\'t leave over one big thing. They leave over twenty small things nobody asked about.'
                },
                'R': {
                    title: 'Reflection: You\'re Managing Last Month\'s Team',
                    text: 'Without regular, honest conversations about how the work feels (not just what the work is), you end up managing based on assumptions that are weeks or months out of date. Your team today has shifted in ways you haven\'t caught yet. The version of your team you\'re managing in your head may not match the one sitting in front of you.'
                }
            };

            // Show insights for the 2 lowest sections
            const sorted = CLOVER_SECTIONS
                .map(s => ({ ...s, score: sectionScores[s.letter] }))
                .sort((a, b) => a.score - b.score);

            const insightContainer = document.getElementById('insightsContainer');
            const numInsights = total <= 30 ? 3 : 2;
            insightContainer.innerHTML = sorted.slice(0, numInsights).map(s => `
                <div class="insight-box">
                    <h3>${insights[s.letter].title}</h3>
                    <p>${insights[s.letter].text}</p>
                </div>
            `).join('');
        }

        // ===== SEND RESULTS =====
        function sendResults() {
            // In production, POST to your API endpoint
            // This sends the lead data + assessment results
            const payload = {
                ...userData,
                responses,
                total_score: Object.values(responses).reduce((s, v) => s + v, 0),
                completed_at: new Date().toISOString()
            };

            console.log('Assessment completed:', payload);

            // Send to your backend
            // fetch('/api/blind-spot-assessment', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(payload)
            // });

            // Clean up localStorage
            localStorage.removeItem('clover_assessment_user');
            localStorage.removeItem('clover_assessment_responses');
        }
    </script>
</body>
</html>
